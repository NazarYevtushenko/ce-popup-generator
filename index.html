<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OlyBet Executive PopUp Editor</title>
    <style>
        :root { --accent: #1CFF47; --bg: #f4f7f6; --panel: #292935; --brand: #e32d37; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        .sidebar { width: 400px; background: white; padding: 25px; box-shadow: 2px 0 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; z-index: 10; }
        .sidebar-content { flex-grow: 1; overflow-y: auto; padding-right: 5px; }
        
        h2 { margin-top: 0; font-size: 20px; color: var(--brand); border-bottom: 2px solid #eee; padding-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        
        /* –°—Ç–∏–ª–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã */
        .team-mention {
            margin-top: 20px;
            padding: 15px;
            background: #fff5f5;
            border-radius: 10px;
            border: 1px dashed #e32d37;
            font-size: 13px;
            line-height: 1.4;
            color: #444;
        }
        .team-mention b { color: #e32d37; }
        .heart { color: #e32d37; display: inline-block; animation: beat .3s infinite alternate; transform-origin: center; }
        @keyframes beat { to { transform: scale(1.1); } }

        .group { margin-bottom: 15px; }
        label { display: block; font-size: 11px; font-weight: 700; color: #888; text-transform: uppercase; margin-bottom: 5px; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 14px; outline: none; }
        input:focus, textarea:focus { border-color: #25BD95; }
        textarea#main { height: 100px; resize: vertical; }
        
        .workspace { flex-grow: 1; padding: 40px; display: flex; flex-direction: column; gap: 20px; overflow-y: auto; align-items: center; }
        .preview-area { background: #1a1a1a; border-radius: 12px; padding: 60px; display: flex; justify-content: center; align-items: center; width: 100%; max-width: 800px; min-height: 450px; box-shadow: inset 0 0 50px rgba(0,0,0,0.3); }
        
        .code-area { width: 100%; max-width: 800px; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        textarea#output-code { width: 100%; height: 80px; font-family: 'Consolas', monospace; font-size: 11px; margin-top: 10px; background: #f8f9fa; border: 1px solid #eee; }
        
        .copy-btn { background: #25BD95; color: white; border: none; padding: 16px; border-radius: 6px; font-weight: bold; cursor: pointer; width: 100%; transition: 0.2s; font-size: 16px; margin-top: 10px; }
        .copy-btn:hover { background: #1CFF47; color: black; box-shadow: 0 4px 12px rgba(28, 255, 71, 0.3); }
        .hint { font-size: 11px; color: #999; margin-top: 5px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sidebar-content">
        <h2>OlyBet PopUp Ediitor üöÄ</h2>
        
        <div class="group"><label>Image URL</label><input id="img" type="text" placeholder="https://..." oninput="generate()"></div>
        <div class="group"><label>Sub Headline</label><input id="sub" type="text" placeholder="e.g. PRIZE POOL ‚Ç¨100,000" oninput="generate()"></div>
        <div class="group"><label>Headline</label><input id="head" type="text" placeholder="e.g. GRAND TOURNAMENT" oninput="generate()"></div>
        
        <div class="group">
            <label>Main Text</label>
            <textarea id="main" placeholder="Describe the promo..." oninput="generate()"></textarea>
            <div class="hint"><b>Ctrl + B</b> –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞.</div>
        </div>
        
        <div class="group"><label>Button Text</label><input id="btn" type="text" placeholder="e.g. JOIN NOW" oninput="generate()"></div>
        <div class="group"><label>Link URL</label><input id="link" type="text" placeholder="https://..." oninput="generate()"></div>

        <button class="copy-btn" onclick="copyCode()">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î</button>

        <div class="team-mention">
            Made with <span class="heart">‚ù§Ô∏è</span> for <br>
            <b>OlyBet Executive Team</b><br>
            <small>(Veronika, Masha, Lera, Angelina, Kitija)</small>
        </div>
    </div>
</div>

<div class="workspace">
    <div class="preview-area" id="preview-box"></div>
    <div class="code-area">
        <label>HTML Source</label>
        <textarea id="output-code" readonly></textarea>
    </div>
</div>

<script>
    const template = `<div class="popup" style="text-align: left; display: inline-block; font-family: 'Montserrat', sans-serif; background-color: #292935; border-radius: 12px; max-width: 400px; box-shadow: 0 20px 40px rgba(0,0,0,0.6); position: relative; font-size: 14px; padding: 0; overflow: hidden;"><div style="text-align: center;"><img src="[IMG LINK]" alt="Promo" style="width: 100%; height: auto; display: block;"></div><div style="padding: 25px 25px 35px 25px; color: #ffffff; text-align: left;"><p style="margin: 0 0 10px 0; font-size: 14px; color: #e0e0e0; font-weight: 600;">[SUB HEADLINE]</p><h2 style="margin: 0 0 15px 0; font-family: 'Bebas Neue Pro', sans-serif; font-size: 34px; line-height: 1.1; font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px; color: #ffffff;">[HEADLINE]</h2><p style="margin: 0 0 30px 0; font-size: 15px; line-height: 1.6; color: #d0d0d0;">[MAIN TEXT]</p><a href="[LINK]" target="_blank" style="text-decoration: none; display: block;"><span style="display: block; width: 100%; background: linear-gradient(90deg, #1CFF47 0%, #25BD95 100%); color: #000000; padding: 16px 0; font-weight: 800; font-family: 'Montserrat', sans-serif; font-size: 18px; border-radius: 6px; text-align: center; text-transform: uppercase; box-shadow: 0 10px 20px -5px rgba(28, 255, 71, 0.4);">[BUTTON TEXT]</span></a></div></div><style>#modal-title { display: none !important; } #modal-background { background: none !important; text-align: center; }</style>`;

    const mainTextarea = document.getElementById('main');

    mainTextarea.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.code === 'KeyB') {
            e.preventDefault();
            const start = this.selectionStart;
            const end = this.selectionEnd;
            const text = this.value;
            this.value = text.substring(0, start) + '<strong>' + text.substring(start, end) + '</strong>' + text.substring(end);
            this.focus();
            this.selectionStart = start + 8;
            this.selectionEnd = end + 8;
            generate();
        }
    });

    function generate() {
        const rawMainText = document.getElementById('main').value;
        const formattedMainText = rawMainText.replace(/\n/g, '<br>') || 'The tournament description goes here.';

        let res = template
            .replaceAll("[IMG LINK]", document.getElementById('img').value || 'https://via.placeholder.com/400x200/292935/ffffff?text=OlyBet+Promo')
            .replaceAll("[SUB HEADLINE]", document.getElementById('sub').value || 'SUB HEADLINE')
            .replaceAll("[HEADLINE]", document.getElementById('head').value || 'MAIN HEADLINE')
            .replaceAll("[MAIN TEXT]", formattedMainText)
            .replaceAll("[BUTTON TEXT]", document.getElementById('btn').value || 'JOIN NOW')
            .replaceAll("[LINK]", document.getElementById('link').value || '#');

        document.getElementById('output-code').value = res;
        document.getElementById('preview-box').innerHTML = res;
    }

    function copyCode() {
        const copyText = document.getElementById("output-code");
        copyText.select();
        document.execCommand("copy");
        const btn = document.querySelector('.copy-btn');
        btn.innerText = "COPIED! ‚úÖ";
        setTimeout(() => { btn.innerText = "–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î"; }, 1500);
    }

    generate();
</script>

</body>
</html>
